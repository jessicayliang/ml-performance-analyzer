apiVersion: v1
kind: ConfigMap
metadata:
    name: llm-system-dashboard
    labels:
        grafana_dashboard: "1"
data:
    llm-system-dashboard.json: |
        {
          "uid": "llm-system-dashboard",
          "title": "System Resource Metrics",
          "schemaVersion": 37,
          "version": 2,
          "tags": ["llm-monitoring"],
          "panels": [
            { "title": "CPU Usage %", "type": "timeseries", "fieldConfig": {"defaults": {"unit": "percent", "custom": {"axisLabel": "CPU Usage %"}}}, "targets": [ { "expr": "llm_cpu_usage_percent" } ], "gridPos": {"x":0,"y":0,"w":12,"h":8} },
            { "title": "RAM Usage Bytes", "type": "timeseries", "fieldConfig": {"defaults": {"unit": "bytes", "custom": {"axisLabel": "RAM Usage (bytes)"}}}, "targets": [ { "expr": "llm_ram_usage_bytes" } ], "gridPos": {"x":12,"y":0,"w":12,"h":8} },
            { "title": "GPU Memory Usage", "type": "timeseries", "fieldConfig": {"defaults": {"unit": "bytes", "custom": {"axisLabel": "GPU Memory (bytes)"}}}, "targets": [ { "expr": "llm_gpu_memory_usage_bytes" } ], "gridPos": {"x":0,"y":8,"w":12,"h":8} },
            { "title": "Queue Size", "type": "timeseries", "fieldConfig": {"defaults": {"unit": "short", "custom": {"axisLabel": "Queue Size"}}}, "targets": [ { "expr": "llm_queue_size" } ], "gridPos": {"x":12,"y":8,"w":12,"h":8} },
            { "title": "Queue Time", "type": "timeseries", "fieldConfig": {"defaults": {"unit": "s", "custom": {"axisLabel": "Queue Time (s)"}}}, "targets": [ { "expr": "rate(llm_queue_time_seconds_sum[1m]) / rate(llm_queue_time_seconds_count[1m])" } ], "gridPos": {"x":0,"y":16,"w":24,"h":8} }
          ]
        }
